<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>War Saga Mobile</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div id="loading-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.5s;">
        <h1 style="color: var(--accent-red); font-size: 3em; margin: 0; letter-spacing: 5px; text-shadow: 0 0 20px var(--accent-red); font-weight: bold;">WAR-GAME</h1>
        <div style="width: 200px; height: 4px; background: #222; border-radius: 2px; margin-top: 20px; overflow: hidden;">
            <div id="load-progress" style="width: 0%; height: 100%; background: var(--accent-red); transition: width 0.3s;"></div>
        </div>
        <p style="color: var(--gray-text); font-size: 0.7em; margin-top: 10px; text-transform: uppercase; letter-spacing: 2px;">–ó–∞–≥—Ä—É–∑–∫–∞ –º–∏—Ä–∞...</p>
    </div>

    <div id="daily-modal" class="modal-overlay">
        <div class="daily-card">
            <h2 class="title" style="border:none; padding:0;">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ë–æ–Ω—É—Å</h2>
            <p id="daily-day-text" style="color:var(--gray-text);">–î–µ–Ω—å 1</p>
            <span id="daily-reward-icon" class="reward-icon">üíé</span>
            <h3 id="daily-reward-text">+5 –ò–∑—É–º—Ä—É–¥–æ–≤</h3>
            <button class="buy-btn" style="width:100%; margin-top:15px;" onclick="game.closeDaily()">–ó–∞–±—Ä–∞—Ç—å</button>
        </div>
    </div>

    <div class="header">
        <div class="res-row">
            <div>ü™ô <span id="gold">50</span></div>
            <div>üíé <span id="emeralds">0</span></div>
        </div>
        <div class="exp-container">
            <div id="exp-fill"></div>
        </div>
        <div class="lvl-info">–£–†–û–í–ï–ù–¨ <span id="lvl">1</span> | <span id="xp-text">0/100</span> XP</div>
    </div>

    <div class="main-content">
        
        <div id="screen-map" class="screen">
            <h2 class="title">–ö–∞—Ä—Ç–∞</h2>
            <div class="card" onclick="game.openLocation('tavern')">
                <span>üç∫</span>
                <div><h3>–¢–∞–≤–µ—Ä–Ω–∞</h3><p>–ö–≤–µ—Å—Ç—ã –∏ –æ—Ç–¥—ã—Ö</p></div>
            </div>
            <div class="card" onclick="game.openLocation('camp')">
                <span>‚õ∫</span>
                <div><h3>–õ–∞–≥–µ—Ä—å</h3><p>–í–æ–π—Å–∫–∞ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p></div>
            </div>
            <div class="card" onclick="game.openLocation('stable')">
                <span>üêé</span>
                <div><h3>–ö–æ–Ω—é—à–Ω—è</h3><p>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –∫–æ–Ω–∏</p></div>
            </div>
            <div class="card" onclick="game.setTab('blacksmith-shop')">
                <span>‚öîÔ∏è</span>
                <div><h3>–û—Ä—É–∂–µ–π–Ω–∏–∫</h3><p>–ú–µ—á–∏ –∏ —Ç–æ–ø–æ—Ä—ã</p></div>
            </div>
            <div class="card" onclick="game.openLocation('armorer')">
                <span>üõ°Ô∏è</span>
                <div><h3>–ë—Ä–æ–Ω–Ω–∏–∫</h3><p>–î–æ—Å–ø–µ—Ö–∏ –∏ —â–∏—Ç—ã</p></div>
            </div>
        </div>

        <div id="screen-work" class="screen active">
            <h2 class="title">–†–∞–±–æ—Ç–∞</h2>
            
            <div class="card" onclick="game.doWork('port')">
                <div class="card-icon">üé£</div>
                <div class="card-info">
                    <h3>–ü–æ—Ä—Ç</h3>
                    <p>–î–æ—Ö–æ–¥: +<span id="p-gold">2</span> ü™ô</p>
                </div>
            </div>
            <div class="card" onclick="game.doWork('mine')">
                <div class="card-icon">‚õèÔ∏è</div>
                <div class="card-info">
                    <h3>–†—É–¥–Ω–∏–∫</h3>
                    <p>–î–æ—Ö–æ–¥: +<span id="m-gold">1</span> ü™ô</p>
                    <p style="color:var(--accent-red)">–®–∞–Ω—Å üíé: <span id="m-chance">1</span>%</p>
                </div>
            </div>

            <div id="work-farm" class="card" style="opacity: 0.5;" onclick="game.doWork('farm')">
                <div class="card-icon">üåæ</div>
                <div class="card-info">
                    <h3>–§–µ—Ä–º–∞ <span style="font-size: 0.7em; color: var(--accent-red)" id="farm-lock">(–£—Ä. 15)</span></h3>
                    <p>–î–æ—Ö–æ–¥: +15 ü™ô | +12 XP</p>
                </div>
            </div>

            <div id="work-hunt" class="card" style="opacity: 0.5;" onclick="game.doWork('hunt')">
                <div class="card-icon">üèπ</div>
                <div class="card-info">
                    <h3>–û—Ö–æ—Ç–∞ <span style="font-size: 0.7em; color: var(--accent-red)" id="hunt-lock">(–£—Ä. 25)</span></h3>
                    <p id="hunt-desc">–ù—É–∂–µ–Ω –ª—É–∫!</p>
                </div>
            </div>
        </div>

        <div id="screen-shop" class="screen">
            <h2 class="title">–õ–∞–≤–∫–∞</h2>
            
            <div style="display: flex; gap: 5px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px;">
                <div class="shop-tab active" id="tab-rods" onclick="game.filterShop('rods')" style="flex:1; text-align:center; padding:8px; background:#222; border-radius:6px; font-size:0.75em; cursor:pointer; min-width: 80px;">–£–¥–æ—á–∫–∏</div>
                <div class="shop-tab" id="tab-picks" onclick="game.filterShop('picks')" style="flex:1; text-align:center; padding:8px; background:#222; border-radius:6px; font-size:0.75em; cursor:pointer; min-width: 80px;">–ö–∏—Ä–∫–∏</div>
                <div class="shop-tab" id="tab-weapons" onclick="game.filterShop('weapons')" style="flex:1; text-align:center; padding:8px; background:#222; border-radius:6px; font-size:0.75em; cursor:pointer; min-width: 80px;">–û—Ä—É–∂–∏–µ</div>
            </div>

            <div id="shop-content-rods">
                <div class="card">
                    <div class="card-icon">üéã</div>
                    <div class="card-info"><h3>–ë–∞–º–±—É–∫–æ–≤–∞—è —É–¥–æ—á–∫–∞</h3><p>–î–æ—Ö–æ–¥: +5 ü™ô</p></div>
                    <button id="btn-rod1" class="buy-btn" onclick="game.buy('rod1', 100)">100</button>
                </div>
                <div class="card" style="margin-top:10px">
                    <div class="card-icon">üé£</div>
                    <div class="card-info"><h3>–°–ø–∏–Ω–Ω–∏–Ω–≥ –º–∞—Å—Ç–µ—Ä–∞</h3><p>–î–æ—Ö–æ–¥: +15 ü™ô</p></div>
                    <button id="btn-rod2" class="buy-btn" onclick="game.buy('rod2', 450)">450</button>
                </div>
                <div class="card" style="margin-top:10px">
                    <div class="card-icon">üî±</div>
                    <div class="card-info"><h3>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Ç—Ä–µ–∑—É–±–µ—Ü</h3><p>–î–æ—Ö–æ–¥: +40 ü™ô</p></div>
                    <button id="btn-rod3" class="buy-btn" onclick="game.buy('rod3', 1200)">1200</button>
                </div>
            </div>

            <div id="shop-content-picks" style="display:none;">
                <div class="card">
                    <div class="card-icon">üî®</div>
                    <div class="card-info"><h3>–ñ–µ–ª–µ–∑–Ω–∞—è –∫–∏—Ä–∫–∞</h3><p>–î–æ—Ö–æ–¥: +4 | üíé 2%</p></div>
                    <button id="btn-pick1" class="buy-btn" onclick="game.buy('pick1', 150)">150</button>
                </div>
                <div class="card" style="margin-top:10px">
                    <div class="card-icon">‚öôÔ∏è</div>
                    <div class="card-info"><h3>–¢–∏—Ç–∞–Ω–æ–≤—ã–π –±—É—Ä</h3><p>–î–æ—Ö–æ–¥: +12 | üíé 4%</p></div>
                    <button id="btn-pick2" class="buy-btn" onclick="game.buy('pick2', 600)">600</button>
                </div>
                <div class="card" style="margin-top:10px">
                    <div class="card-icon">üåå</div>
                    <div class="card-info"><h3>–ö–∏—Ä–∫–∞ –ö—Ä–∞—è</h3><p>–î–æ—Ö–æ–¥: +25 | üíé 8%</p></div>
                    <button id="btn-pick3" class="buy-btn" onclick="game.buy('pick3', 2000)">2000</button>
                </div>
            </div>

            <div id="shop-content-weapons" style="display:none;">
                <div class="card">
                    <div class="card-icon">üèπ</div>
                    <div class="card-info"><h3>–û—Ö–æ—Ç–Ω–∏—á–∏–π –ª—É–∫</h3><p>–î–æ—Ö–æ–¥ –æ—Ö–æ—Ç—ã: 50 ü™ô</p></div>
                    <button id="btn-bow1" class="buy-btn" onclick="game.buy('bow1', 10000)">10k</button>
                </div>
                <div class="card" style="margin-top:10px">
                    <div class="card-icon">üíò</div>
                    <div class="card-info"><h3>–°—Ç–∞–ª—å–Ω–æ–π –∞—Ä–±–∞–ª–µ—Ç</h3><p>–î–æ—Ö–æ–¥ –æ—Ö–æ—Ç—ã: 100 ü™ô</p></div>
                    <button id="btn-bow2" class="buy-btn" onclick="game.buy('bow2', 100000)">100k</button>
                </div>
            </div>
        </div>

        <div id="screen-bank" class="screen">
            <h2 class="title">–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –ë–∞–Ω–∫</h2>
            <div class="card">
                <div class="card-icon">üíé</div>
                <div class="card-info">
                    <h3>–û–±–º–µ–Ω–Ω–∏–∫</h3>
                    <p>1 –ò–∑—É–º—Ä—É–¥ = 500 –ó–æ–ª–æ—Ç–∞</p>
                </div>
                <button class="buy-btn" onclick="game.exchange()">–û–±–º–µ–Ω—è—Ç—å</button>
            </div>
        </div>

        <div id="screen-profile" class="screen">
            <h2 class="title">–ì–µ—Ä–æ–π</h2>
            <div class="card">
                <div class="card-icon">üõ°Ô∏è</div>
                <div class="card-info">
                    <h3 id="user-name">–ò–≥—Ä–æ–∫</h3>
                    <p>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: <span id="inv">–ø—É—Å—Ç–æ</span></p>
                </div>
            </div>
        </div>

        <div id="screen-blacksmith-shop" class="screen">
            <div class="back-btn" onclick="game.setTab('map')" style="color:var(--accent-red); cursor:pointer; margin-bottom: 10px;">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ä—Ç–µ</div>
            <h2 class="title">–ö—É–∑–Ω–∏—Ü–∞</h2>
            <div class="card">
                <div class="card-icon">üó°Ô∏è</div>
                <div class="card-info"><h3>–†–∂–∞–≤—ã–π –Ω–æ–∂</h3><p>–û–ø—ã—Ç –∑–∞ —Ä–∞–±–æ—Ç—É: +2 XP</p></div>
                <button id="btn-sword1" class="buy-btn" onclick="game.buy('sword1', 200)">200</button>
            </div>
        </div>

    </div>

    <nav class="nav">
        <div class="nav-item" onclick="game.setTab('map', this)"><span>üó∫Ô∏è</span>–ö–∞—Ä—Ç–∞</div>
        <div class="nav-item active" onclick="game.setTab('work', this)"><span>‚öîÔ∏è</span>–†–∞–±–æ—Ç–∞</div>
        <div class="nav-item" onclick="game.setTab('shop', this)"><span>üí∞</span>–õ–∞–≤–∫–∞</div>
        <div class="nav-item" onclick="game.setTab('bank', this)"><span>üè¶</span>–ë–∞–Ω–∫</div>
        <div class="nav-item" onclick="game.setTab('profile', this)"><span>üë§</span>–ì–µ—Ä–æ–π</div>
    </nav>

    <script src="script.js"></script>
</body>
</html>

