<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WAR-GAME: Chronicles</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π */
        .click-anim {
            position: absolute;
            color: #ffd700;
            font-weight: bold;
            pointer-events: none;
            animation: moveUp 0.8s ease-out forwards;
            z-index: 1000;
        }
        @keyframes moveUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }
        .locked { filter: grayscale(1) opacity(0.5); position: relative; }
        .lock-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2em; z-index: 5; }
        
        /* –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã */
        #wheel-container {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 20000; flex-direction: column; align-items: center; justify-content: center;
        }
        .wheel {
            width: 280px; height: 280px; border-radius: 50%; border: 5px solid var(--accent-red);
            position: relative; transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1);
            background: conic-gradient(#333 0deg 45deg, #222 45deg 90deg, #333 90deg 135deg, #222 135deg 180deg, #333 180deg 225deg, #222 225deg 270deg, #333 270deg 315deg, #222 315deg 360deg);
        }
        .wheel-pointer { width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 30px solid var(--accent-red); position: absolute; top: -10px; z-index: 10; }
    </style>
</head>
<body>

    <div id="loading-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.5s;">
        <h1 style="color: var(--accent-red); font-size: 3.5em; margin: 0; letter-spacing: 8px; text-shadow: 0 0 25px var(--accent-red); font-weight: 900; font-style: italic;">WAR-GAME</h1>
        <div style="width: 220px; height: 4px; background: #222; border-radius: 2px; margin-top: 25px; overflow: hidden; border: 1px solid #333;">
            <div id="load-progress" style="width: 0%; height: 100%; background: var(--accent-red); box-shadow: 0 0 10px var(--accent-red);"></div>
        </div>
        <p style="color: #666; font-size: 0.7em; margin-top: 15px; text-transform: uppercase; letter-spacing: 3px;">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º –∏–º–ø–µ—Ä–∏–∏...</p>
    </div>

    <div id="wheel-container">
        <h2 class="title" style="border:none;">–ö–æ–ª–µ—Å–æ –°—É–¥—å–±—ã</h2>
        <div class="wheel-pointer"></div>
        <div id="main-wheel" class="wheel"></div>
        <button class="buy-btn" id="spin-btn" style="margin-top: 40px; width: 200px; height: 50px; font-size: 1.2em;" onclick="game.spinWheel()">–ö–†–£–¢–ò–¢–¨</button>
        <p style="color: #555; margin-top: 15px;">–î–æ—Å—Ç—É–ø–Ω–æ —Ä–∞–∑ –≤ 10 –¥–Ω–µ–π</p>
    </div>

    <div id="daily-modal" class="modal-overlay">
        <div class="daily-card">
            <h2 class="title" style="border:none; padding:0;">–ú–∏–ª–æ—Å—Ç—å –ò–º–ø–µ—Ä–∞—Ç–æ—Ä–∞</h2>
            <p id="daily-day-text">–î–µ–Ω—å 1</p>
            <span id="daily-reward-icon" class="reward-icon">üíé</span>
            <h3 id="daily-reward-text">+5 –ò–∑—É–º—Ä—É–¥–æ–≤</h3>
            <button class="buy-btn" style="width:100%;" onclick="game.closeDaily()">–ü–†–ò–ù–Ø–¢–¨</button>
        </div>
    </div>

    <div class="header">
        <div class="res-row">
            <div class="res-item" onclick="game.setTab('bank')">ü™ô <span id="gold">50</span></div>
            <div class="res-item">üíé <span id="emeralds">0</span></div>
        </div>
        <div class="exp-container">
            <div id="exp-fill"></div>
        </div>
        <div class="lvl-info">–†–ê–ù–ì: <span id="lvl">1</span> | <span id="xp-text">0/100</span> XP</div>
    </div>

    <div class="main-content" id="click-zone">
        
        <div id="screen-map" class="screen">
            <h2 class="title">–ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ</h2>
            <div class="grid-2">
                <div class="card-mini" onclick="game.setTab('blacksmith-shop')"><span>‚öîÔ∏è</span><p>–û—Ä—É–∂–µ–π–Ω–∏–∫</p></div>
                <div class="card-mini" onclick="game.openLocation('tavern')"><span>üç∫</span><p>–¢–∞–≤–µ—Ä–Ω–∞</p></div>
                <div class="card-mini" onclick="game.openLocation('camp')"><span>‚õ∫</span><p>–ö–∞–∑–∞—Ä–º—ã</p></div>
                <div class="card-mini locked"><span>üêâ</span><p>–õ–æ–≥–æ–≤–æ</p><div class="lock-icon">üîí</div></div>
            </div>
        </div>

        <div id="screen-work" class="screen active">
            <h2 class="title">–î–æ–±—ã—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤</h2>
            <div class="work-list">
                <div class="card" onclick="game.doWork('port', event)">
                    <div class="card-icon">üé£</div>
                    <div class="card-info"><h3>–†—ã–±–∞—Ü–∫–∞—è –≥–∞–≤–∞–Ω—å</h3><p>–ó–æ–ª–æ—Ç–æ: +<span id="p-gold">2</span></p></div>
                </div>
                <div class="card" onclick="game.doWork('mine', event)">
                    <div class="card-icon">‚õèÔ∏è</div>
                    <div class="card-info"><h3>–¢—ë–º–Ω—ã–µ —Ä—É–¥–Ω–∏–∫–∏</h3><p>–ó–æ–ª–æ—Ç–æ: +<span id="m-gold">1</span> | üíé <span id="m-chance">1</span>%</p></div>
                </div>
                <div id="work-farm" class="card locked" onclick="game.doWork('farm', event)">
                    <div class="card-icon">üåæ</div>
                    <div class="card-info"><h3>–ò–º–ø–µ—Ä—Å–∫–∞—è —Ñ–µ—Ä–º–∞</h3><p id="farm-lock">–£—Ä–æ–≤–µ–Ω—å 15</p></div>
                </div>
                <div id="work-hunt" class="card locked" onclick="game.doWork('hunt', event)">
                    <div class="card-icon">üèπ</div>
                    <div class="card-info"><h3>–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –æ—Ö–æ—Ç–∞</h3><p id="hunt-lock">–£—Ä–æ–≤–µ–Ω—å 25 + –õ—É–∫</p></div>
                </div>
            </div>
        </div>

        <div id="screen-shop" class="screen">
            <h2 class="title">–ê—Ä—Å–µ–Ω–∞–ª –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
            <div class="shop-nav">
                <button class="shop-tab active" id="tab-rods" onclick="game.filterShop('rods')">–°–Ω–∞—Å—Ç–∏</button>
                <button class="shop-tab" id="tab-picks" onclick="game.filterShop('picks')">–ö–∏—Ä–∫–∏</button>
                <button class="shop-tab" id="tab-weapons" onclick="game.filterShop('weapons')">–û—Ä—É–∂–∏–µ</button>
            </div>

            <div id="shop-content-rods" class="fade-in">
                <div class="card shop-item">
                    <div class="card-icon">üéã</div>
                    <div class="card-info"><h3>–ë–∞–º–±—É–∫–æ–≤–∞—è —É–¥–æ—á–∫–∞</h3><p>–î–æ—Ö–æ–¥ –ü–æ—Ä—Ç–∞ +5</p></div>
                    <button id="btn-rod1" class="buy-btn" onclick="game.buy('rod1', 100)">100</button>
                </div>
                </div>

            <div id="shop-content-picks" style="display:none;">
                <div class="card shop-item">
                    <div class="card-icon">üî®</div>
                    <div class="card-info"><h3>–°—Ç–∞—Ä–∞—è –∫–∏—Ä–∫–∞</h3><p>–†—É–¥–Ω–∏–∫ +4 | üíé 2%</p></div>
                    <button id="btn-pick1" class="buy-btn" onclick="game.buy('pick1', 150)">150</button>
                </div>
            </div>

            <div id="shop-content-weapons" style="display:none;">
                <div class="card shop-item">
                    <div class="card-icon">üèπ</div>
                    <div class="card-info"><h3>–û—Ö–æ—Ç–Ω–∏—á–∏–π –ª—É–∫</h3><p>–î–æ—Å—Ç—É–ø –∫ –û—Ö–æ—Ç–µ (50 –∑–∞ –∫–ª–∏–∫)</p></div>
                    <button id="btn-bow1" class="buy-btn" onclick="game.buy('bow1', 10000)">10k</button>
                </div>
            </div>
        </div>

        <div id="screen-profile" class="screen">
            <h2 class="title">–†—ã—Ü–∞—Ä—å –ò–º–ø–µ—Ä–∏–∏</h2>
            <div class="card" style="flex-direction: column; align-items: flex-start;">
                <div style="display:flex; align-items:center; gap:15px; width:100%;">
                    <div class="card-icon" style="font-size:3.5em;">üë§</div>
                    <div class="card-info">
                        <h3 id="user-name" style="font-size:1.4em;">–í–æ–∏–Ω</h3>
                        <p id="status-text" style="color:var(--accent-red)">–†—è–¥–æ–≤–æ–π</p>
                    </div>
                </div>
                <div style="margin-top:20px; width:100%; border-top:1px solid #333; padding-top:15px;">
                    <p>üì¶ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—É–º–æ–∫: <span id="inv" style="color:#fff">–ü—É—Å—Ç–æ</span></p>
                </div>
            </div>
        </div>

    </div>

    <nav class="nav">
        <div class="nav-item" onclick="game.setTab('map', this)"><span>üó∫Ô∏è</span>–ö–∞—Ä—Ç–∞</div>
        <div class="nav-item active" onclick="game.setTab('work', this)"><span>‚öîÔ∏è</span>–ë–∏—Ç–≤–∞</div>
        <div class="nav-item" onclick="game.setTab('shop', this)"><span>üí∞</span>–õ–∞–≤–∫–∞</div>
        <div class="nav-item" onclick="game.setTab('profile', this)"><span>üë§</span>–ì–µ—Ä–æ–π</div>
    </nav>
<div id="screen-bank" class="screen">
            <h2 class="title">–ò–º–ø–µ—Ä—Å–∫–∏–π –ö–∞–∑–Ω–∞—á–µ–π</h2>
            <div class="card">
                <div class="card-icon">üíé</div>
                <div class="card-info">
                    <h3>–û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã</h3>
                    <p>–ö—É—Ä—Å: 1 üíé = 500 ü™ô</p>
                </div>
                <button class="buy-btn" onclick="game.exchange()">–û–ë–ú–ï–ù</button>
            </div>
            
            <div class="card" style="margin-top: 10px; border-color: #ffd700;">
                <div class="card-icon">üëë</div>
                <div class="card-info">
                    <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ò–º–ø–µ—Ä–∏–∏</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å 1000 ü™ô –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —É–∫–∞–∑–∞</p>
                </div>
                <button class="buy-btn" style="background: #a38100;" onclick="tg.showAlert('–§—É–Ω–∫—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π Telegram')">–°–ú–û–¢–†–ï–¢–¨</button>
            </div>
        </div>

        <div id="screen-blacksmith-shop" class="screen">
            <div class="back-btn" onclick="game.setTab('map')" style="color:var(--accent-red); cursor:pointer; margin-bottom: 10px; font-weight: bold;">‚Üê –ù–ê–ó–ê–î –í –ì–û–†–û–î</div>
            <h2 class="title">–î—Ä–µ–≤–Ω—è—è –ö—É–∑–Ω–∏—Ü–∞</h2>
            
            <div class="card">
                <div class="card-icon">üó°Ô∏è</div>
                <div class="card-info">
                    <h3>–†–∂–∞–≤—ã–π –≥–ª–∞–¥–∏—É—Å</h3>
                    <p>–û–ø—ã—Ç –∑–∞ —É–¥–∞—Ä: +2 XP</p>
                </div>
                <button id="btn-sword1" class="buy-btn" onclick="game.buy('sword1', 200)">200</button>
            </div>

            <div class="card" style="margin-top:10px">
                <div class="card-icon">‚öîÔ∏è</div>
                <div class="card-info">
                    <h3>–°—Ç–∞–ª—å–Ω–æ–π –∫–ª–µ–π–º–æ—Ä</h3>
                    <p>–û–ø—ã—Ç –∑–∞ —É–¥–∞—Ä: +10 XP</p>
                </div>
                <button id="btn-sword2" class="buy-btn" onclick="game.buy('sword2', 5000)">5k</button>
            </div>
        </div>

    </div> <div id="toast-container" style="position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); z-index: 10001; pointer-events: none;"></div>

    <script src="script.js"></script>
</body>
</html>
